name: Deploy to GitHub Pages  

on:  
  push:  
    branches:  
      - main  

jobs:  
  build-and-deploy:  
    runs-on: ubuntu-latest  
    steps:  
      - name: Checkout ğŸ›ï¸  
        uses: actions/checkout@v2  

      - name: Setup Node.js ğŸ”§  
        uses: actions/setup-node@v2  
        with:  
          node-version: '14' # æˆ–è€…é¡¹ç›®æ‰€éœ€çš„Node.jsç‰ˆæœ¬  

      - name: Cache dependencies ğŸ“¦  
        uses: actions/cache@v2  
        with:  
          path: ~/.npm  
          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}  
          restore-keys: |  
            ${{ runner.os }}-node-  

      - name: Install dependencies ğŸ“¥  
        run: npm install  

      - name: Build ğŸ”¨  
        run: npm run build # æˆ–è€…æ‚¨çš„æ„å»ºå‘½ä»¤  

      - name: Deploy ğŸš€  
        uses: JamesIves/github-pages-deploy-action@4.1.7  
        with:  
          token: ${{ secrets.GITHUB_TOKEN }}  
          branch: gh-pages # GitHub Pagesåˆ†æ”¯å  
          folder: dist # æ„å»ºäº§ç‰©æ‰€åœ¨çš„ç›®å½•ï¼Œæ¯”å¦‚Vueé¡¹ç›®çš„distç›®å½•